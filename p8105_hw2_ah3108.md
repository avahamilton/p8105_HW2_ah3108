p8105\_hw2\_ah3108
================
Ava Hamilton
9/29/2019

# Problem 1

### Read in and clean Mr. Trash data

``` r
water_df = read_excel(path = "./data_hw2/HealthyHarborWaterWheelTotals2018-7-28.xlsx", sheet = 1, range = "A2:N336") %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(sports_balls = as.integer(round(sports_balls, digits = 0))) %>% 
  view
```

### Read in and clean 2017/2018 precipitation data

``` r
prec18 = read_excel(path = "./data_hw2/HealthyHarborWaterWheelTotals2018-7-28.xlsx", sheet = 3, range = "A2:B9") %>% 
  janitor::clean_names() %>% 
  mutate(year = 2018) %>% 
  view

prec17 = read_excel(path = "./data_hw2/HealthyHarborWaterWheelTotals2018-7-28.xlsx", sheet = 4, range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(year = 2017) %>% 
  view

precData = bind_rows(prec17, prec18) %>% 
  mutate(month = month.name[month]) %>% 
  rename(inches_rain = total)
```

Write stuff here about the water data. Be sure to note the number of
observations in both resulting datasets, and give examples of key
variables. For available data, what was the total precipitation in 2018?
What was the median number of sports balls in a dumpster in
2017.

# Problem 2

### Read in and clean FiveThirtyEight pols-month data

``` r
pols_df = read_csv(file = "./data_hw2/fivethirtyeight_datasets/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(col = mon, into = c("year", "month", "day")) %>%
  mutate(year = as.integer(year),
         month = as.integer(month),
         month = month.name[month],
         president = as.character(prez_dem),
         president = recode(president, "1" = "dem", "0" = "gop")
  ) %>% 
  select(-c("prez_dem", "prez_gop", "day")) 
head(pols_df)
```

    ## # A tibble: 6 x 9
    ##    year month    gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##   <int> <chr>      <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ## 1  1947 January       23      51     253      23      45     198 dem      
    ## 2  1947 February      23      51     253      23      45     198 dem      
    ## 3  1947 March         23      51     253      23      45     198 dem      
    ## 4  1947 April         23      51     253      23      45     198 dem      
    ## 5  1947 May           23      51     253      23      45     198 dem      
    ## 6  1947 June          23      51     253      23      45     198 dem

### Read in and clean FiveThirtyEight snp data

``` r
snp_df = read_csv(file = "./data_hw2/fivethirtyeight_datasets/snp.csv") %>% 
  janitor::clean_names() %>% 
  separate(col = date, int = c("month" ,"day", "year")) %>% 
  mutate(year = as.integer(year),
         month = as.integer(month),
         month = month.name[month]) %>% 
  rename(snp_close = close) %>% 
  arrange(year, month) %>% 
  select(year, month, snp_close)
head(snp_df)
```

    ## # A tibble: 6 x 3
    ##    year month    snp_close
    ##   <int> <chr>        <dbl>
    ## 1  1950 April         18.0
    ## 2  1950 August        18.4
    ## 3  1950 December      20.4
    ## 4  1950 February      17.2
    ## 5  1950 January       17.0
    ## 6  1950 July          17.8

### Read in and clean FiveThirtyEight unemployment data

``` r
unemploy_df = read_csv(file = "./data_hw2/fivethirtyeight_datasets/unemployment.csv")

unemploy_long = pivot_longer(
  unemploy_df,
  Jan:Dec,
  names_to = "month",
  values_to = "unemployment")

unemploy_long =   mutate(
  unemploy_long,
  month = match(month, month.abb),
  month = month.name[month]) %>% 
  rename(year = Year) %>%
  arrange(year, month)

head(unemploy_long)
```

    ## # A tibble: 6 x 3
    ##    year month    unemployment
    ##   <dbl> <chr>           <dbl>
    ## 1  1948 April             3.9
    ## 2  1948 August            3.9
    ## 3  1948 December          4  
    ## 4  1948 February          3.8
    ## 5  1948 January           3.4
    ## 6  1948 July              3.6

### Joining FiveThirtyEight data

``` r
pols_snp = left_join(pols_df, snp_df, by = c("year", "month"))

all_538_df = left_join(pols_snp, unemploy_long, by = c("year", "month"))
head(all_538_df)
```

    ## # A tibble: 6 x 11
    ##    year month gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##   <dbl> <chr>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ## 1  1947 Janu…      23      51     253      23      45     198 dem      
    ## 2  1947 Febr…      23      51     253      23      45     198 dem      
    ## 3  1947 March      23      51     253      23      45     198 dem      
    ## 4  1947 April      23      51     253      23      45     198 dem      
    ## 5  1947 May        23      51     253      23      45     198 dem      
    ## 6  1947 June       23      51     253      23      45     198 dem      
    ## # … with 2 more variables: snp_close <dbl>, unemployment <dbl>

Write stuff here about data

# Problem 3

### read in and \#\#\# Read in and clean baby names data

``` r
bn_df = read_csv("./data_hw2/Popular_Baby_Names.csv") %>% 
  janitor::clean_names() %>% 
  mutate(
    gender = as.factor(gender),
    childs_first_name = str_to_upper(childs_first_name),
    childs_first_name = as.factor(childs_first_name),
    ethnicity = as.factor(ethnicity),
    ethnicity = fct_collapse(
      ethnicity,
      ASIAN_PI = c("ASIAN AND PACI", "ASIAN AND PACIFIC ISLANDER"),
      BLACK_NH = c("BLACK NON HISP", "BLACK NON HISPANIC"),
      WHITE_NH = c("WHITE NON HISP", "WHITE NON HISPANIC"),
      HISPANIC = "HISPANIC")
  ) %>% 
 distinct() %>% 
  view
```
